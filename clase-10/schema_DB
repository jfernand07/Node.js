CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    last_name VARCHAR(100) NOT NULL,
    email VARCHAR(150) UNIQUE NOT NULL,
    password VARCHAR NOT NULL,
    role VARCHAR(20) CHECK (role IN ('user','admin')),
);


CREATE TABLE event (
    id SERIAL PRIMARY KEY,
    title VARCHAR(200) NOT NULL,
    description VARCHAR(150) NOT NULL,
    date VARCHAR(50),
    location VARCHAR(100),
    capacity VARCHAR(50),
    organizadorld VARCHAR(100),
);


CREATE TABLE inscription (
    id_inscription SERIAL PRIMARY KEY,
    usuariold INT REFERENCES user(id) ON DELETE CASCADE,
    eventold INT REFERENCES event(id) ON DELETE CASCADE,
    status VARCHAR(20) CHECK (status IN ('active','returned','late','canceled')) DEFAULT 'active'
);



CREATE USER PruebaDB WITH PASSWORD 'Ja!31341';
CREATE DATABASE eventosdb OWNER PruebaDB;
GRANT ALL PRIVILEGES ON DATABASE eventosdb TO PruebaDB;
\q
